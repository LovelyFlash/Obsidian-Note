---
tags:
  - 课程/CPP程序设计
title: 多态
date created: 星期一, 十月 20日 2025, 10:51:12 上午
date modified: 星期一, 十月 20日 2025, 11:16:49 晚上
---

# 1 什么是多态？

“多态“一词来源于希腊语，意为“多种形态”。在面向对象编程中，多态指的是：**允许一个接口有多种实现，或者说，允许一个对象在不同的上下文中表现出不同的行为。**
简单来说，多态的核心思想是：**“同一个操作作用于不同的对象，可以有不同的解释和行为。”**

例如，我们说“动物发出声音”：
- 狗发出声音，是“汪汪”叫。
- 猫发出声音，是“喵喵”叫。
- 鸟发出声音，是“叽叽喳喳”叫。
这里的“发出声音”就是“同一个操作”，而狗、猫、鸟是“不同的对象”，它们各自有“不同的解释和行为”。这就是多态的直观体现。

# 2 多态的目的

多态是面向对象编程中一个极其强大的特性，它带来了以下几个关键优势：

## 2.1 提高代码的灵活性和可扩展性：

- **无需修改现有代码：** 当你需要添加新的派生类时，你不需要修改使用基类指针/引用的现有代码。只需创建新的派生类并实现其特有的行为即可。

- **示例：** 如果你有一个处理 ⁠Animal 对象的函数，当引入 ⁠Bird 类时，你不需要修改这个函数，它仍然可以通过 ⁠Animal* 正确地调用 ⁠Bird::makeSound()。

- **开放 - 封闭原则 (Open-Closed Principle)：** 多态是实现“开放 - 封闭原则”的关键。即软件实体（类、模块、函数等）应该对扩展开放，对修改封闭。

## 2.2 简化代码结构，提高可维护性：

- **统一接口：** 允许你使用一个统一的接口（基类指针/引用）来处理不同类型的对象。你无需为每种派生类型编写单独的代码分支（例如大量的 ⁠if-else if 或 ⁠switch 语句来判断对象类型）。

- **示例：** 一个 ⁠std::vector<Animal*> 可以存储各种动物，然后通过循环统一调用 ⁠makeSound()，而不需要知道每个元素具体是 ⁠Dog 还是 ⁠Cat。

- **减少重复代码：** 避免了为相似功能在不同类中编写重复的代码。

## 2.3 实现抽象：

- 多态允许你将注意力集中在“做什么”而不是“如何做”。基类定义了抽象的行为（接口），而派生类提供了具体的实现。

- **示例：** ⁠Animal 类定义了 ⁠makeSound() 这个抽象行为，而具体的“如何叫”则由 ⁠Dog 和 ⁠Cat 等派生类去实现。

## 2.4 框架和库设计的基础 ：

- 多态是设计可重用、可扩展的软件框架和库的基础。框架可以定义通用的行为和接口（通过虚函数），而用户可以通过继承和重写这些虚函数来定制自己的行为，而无需修改框架的核心代码。

1
```C++
aaa
```
